# Usando a imagem oficial do Bun slim para desenvolvimento
FROM oven/bun:1-slim

# Definindo o diretório de trabalho
WORKDIR /app

# Copiando o código fonte
COPY . .

# Instalando dependências
COPY package.json bun.lock* ./
RUN bun install

# Criando diretório de dados
RUN mkdir -p /app/data && chmod 777 /app/data

EXPOSE 3000

VOLUME ["/app/data"]

# Comando para desenvolvimento com hot reload
CMD ["bun", "run", "dev"]